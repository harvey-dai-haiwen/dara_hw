/*! For license information please see component---src-pages-search-js-303f2264cc96e0d9dbe7.js.LICENSE.txt */
(self.webpackChunkhimerometra=self.webpackChunkhimerometra||[]).push([[996],{9897:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return pe}});var r=n(5861),a=n(4687),i=n.n(a),o=n(7294),l=n(3494),u=n(9926),c=n(2419),s=n(1656),f=n(8335),d=n(5578),m=n(3109),p=n(3299),h=n(3077),v=n(7462),g=n(4942),y=n(1002),b=n(9439),x=n(6181),E=n(1413),w={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M890.5 755.3L537.9 269.2c-12.8-17.6-39-17.6-51.7 0L133.5 755.3A8 8 0 00140 768h75c5.1 0 9.9-2.5 12.9-6.6L512 369.8l284.1 391.6c3 4.1 7.8 6.6 12.9 6.6h75c6.5 0 10.3-7.4 6.5-12.7z"}}]},name:"up",theme:"outlined"},N=n(7041),S=function(e,t){return o.createElement(N.Z,(0,E.Z)((0,E.Z)({},e),{},{ref:t,icon:w}))};S.displayName="UpOutlined";var _=o.forwardRef(S),Z=n(5900),I=n.n(Z),k=n(4925),O=n(5934),C=n(2517),M=n(2275),L=n(5671),F=n(3144);function P(){return"function"==typeof BigInt}function R(e){var t=e.trim(),n=t.startsWith("-");n&&(t=t.slice(1)),(t=t.replace(/(\.\d*[^0])0*$/,"$1").replace(/\.0*$/,"").replace(/^0+/,"")).startsWith(".")&&(t="0".concat(t));var r=t||"0",a=r.split("."),i=a[0]||"0",o=a[1]||"0";"0"===i&&"0"===o&&(n=!1);var l=n?"-":"";return{negative:n,negativeStr:l,trimStr:r,integerStr:i,decimalStr:o,fullStr:"".concat(l).concat(r)}}function D(e){var t=String(e);return!Number.isNaN(Number(t))&&t.includes("e")}function T(e){var t=String(e);if(D(e)){var n=Number(t.slice(t.indexOf("e-")+2)),r=t.match(/\.(\d+)/);return(null==r?void 0:r[1])&&(n+=r[1].length),n}return t.includes(".")&&A(t)?t.length-t.indexOf(".")-1:0}function j(e){var t=String(e);if(D(e)){if(e>Number.MAX_SAFE_INTEGER)return String(P()?BigInt(e).toString():Number.MAX_SAFE_INTEGER);if(e<Number.MIN_SAFE_INTEGER)return String(P()?BigInt(e).toString():Number.MIN_SAFE_INTEGER);t=e.toFixed(T(t))}return R(t).fullStr}function A(e){return"number"==typeof e?!Number.isNaN(e):!!e&&(/^\s*-?\d+(\.\d+)?\s*$/.test(e)||/^\s*-?\d+\.\s*$/.test(e)||/^\s*-?\.\d+\s*$/.test(e))}function B(e){var t="number"==typeof e?j(e):R(e).fullStr;return t.includes(".")?R(t.replace(/(\d)\.(\d)/g,"$1$2.")).fullStr:e+"0"}var q=function(){function e(t){(0,L.Z)(this,e),this.origin="",this.number=void 0,this.empty=void 0,(t||0===t)&&String(t).trim()?(this.origin=String(t),this.number=Number(t)):this.empty=!0}return(0,F.Z)(e,[{key:"negate",value:function(){return new e(-this.toNumber())}},{key:"add",value:function(t){if(this.isInvalidate())return new e(t);var n=Number(t);if(Number.isNaN(n))return this;var r=this.number+n;if(r>Number.MAX_SAFE_INTEGER)return new e(Number.MAX_SAFE_INTEGER);if(r<Number.MIN_SAFE_INTEGER)return new e(Number.MIN_SAFE_INTEGER);var a=Math.max(T(this.number),T(n));return new e(r.toFixed(a))}},{key:"isEmpty",value:function(){return this.empty}},{key:"isNaN",value:function(){return Number.isNaN(this.number)}},{key:"isInvalidate",value:function(){return this.isEmpty()||this.isNaN()}},{key:"equals",value:function(e){return this.toNumber()===(null==e?void 0:e.toNumber())}},{key:"lessEquals",value:function(e){return this.add(e.negate().toString()).toNumber()<=0}},{key:"toNumber",value:function(){return this.number}},{key:"toString",value:function(){return!(arguments.length>0&&void 0!==arguments[0])||arguments[0]?this.isInvalidate()?"":j(this.number):this.origin}}]),e}(),G=function(){function e(t){if((0,L.Z)(this,e),this.origin="",this.negative=void 0,this.integer=void 0,this.decimal=void 0,this.decimalLen=void 0,this.empty=void 0,this.nan=void 0,(t||0===t)&&String(t).trim())if(this.origin=String(t),"-"!==t){var n=t;if(D(n)&&(n=Number(n)),A(n="string"==typeof n?n:j(n))){var r=R(n);this.negative=r.negative;var a=r.trimStr.split(".");this.integer=BigInt(a[0]);var i=a[1]||"0";this.decimal=BigInt(i),this.decimalLen=i.length}else this.nan=!0}else this.nan=!0;else this.empty=!0}return(0,F.Z)(e,[{key:"getMark",value:function(){return this.negative?"-":""}},{key:"getIntegerStr",value:function(){return this.integer.toString()}},{key:"getDecimalStr",value:function(){return this.decimal.toString().padStart(this.decimalLen,"0")}},{key:"alignDecimal",value:function(e){var t="".concat(this.getMark()).concat(this.getIntegerStr()).concat(this.getDecimalStr().padEnd(e,"0"));return BigInt(t)}},{key:"negate",value:function(){var t=new e(this.toString());return t.negative=!t.negative,t}},{key:"add",value:function(t){if(this.isInvalidate())return new e(t);var n=new e(t);if(n.isInvalidate())return this;var r=Math.max(this.getDecimalStr().length,n.getDecimalStr().length),a=R((this.alignDecimal(r)+n.alignDecimal(r)).toString()),i=a.negativeStr,o=a.trimStr,l="".concat(i).concat(o.padStart(r+1,"0"));return new e("".concat(l.slice(0,-r),".").concat(l.slice(-r)))}},{key:"isEmpty",value:function(){return this.empty}},{key:"isNaN",value:function(){return this.nan}},{key:"isInvalidate",value:function(){return this.isEmpty()||this.isNaN()}},{key:"equals",value:function(e){return this.toString()===(null==e?void 0:e.toString())}},{key:"lessEquals",value:function(e){return this.add(e.negate().toString()).toNumber()<=0}},{key:"toNumber",value:function(){return this.isNaN()?NaN:Number(this.toString())}},{key:"toString",value:function(){return!(arguments.length>0&&void 0!==arguments[0])||arguments[0]?this.isInvalidate()?"":R("".concat(this.getMark()).concat(this.getIntegerStr(),".").concat(this.getDecimalStr())).fullStr:this.origin}}]),e}();function U(e){return P()?new G(e):new q(e)}function V(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(""===e)return"";var a=R(e),i=a.negativeStr,o=a.integerStr,l=a.decimalStr,u="".concat(t).concat(l),c="".concat(i).concat(o);if(n>=0){var s=Number(l[n]);return s>=5&&!r?V(U(e).add("".concat(i,"0.").concat("0".repeat(n)).concat(10-s)).toString(),t,n,r):0===n?c:"".concat(c).concat(t).concat(l.padEnd(n,"0").slice(0,n))}return".0"===u?c:"".concat(c).concat(u)}var $=n(9866);function H(e){var t=e.prefixCls,n=e.upNode,r=e.downNode,a=e.upDisabled,i=e.downDisabled,l=e.onStep,u=o.useRef(),c=o.useRef();c.current=l;var s=function(e,t){e.preventDefault(),c.current(t),u.current=setTimeout((function e(){c.current(t),u.current=setTimeout(e,200)}),600)},f=function(){clearTimeout(u.current)};if(o.useEffect((function(){return f}),[]),(0,$.Z)())return null;var d="".concat(t,"-handler"),m=I()(d,"".concat(d,"-up"),(0,g.Z)({},"".concat(d,"-up-disabled"),a)),p=I()(d,"".concat(d,"-down"),(0,g.Z)({},"".concat(d,"-down-disabled"),i)),h={unselectable:"on",role:"button",onMouseUp:f,onMouseLeave:f};return o.createElement("div",{className:"".concat(d,"-wrap")},o.createElement("span",(0,v.Z)({},h,{onMouseDown:function(e){s(e,!0)},"aria-label":"Increase Value","aria-disabled":a,className:m}),n||o.createElement("span",{unselectable:"on",className:"".concat(t,"-handler-up-inner")})),o.createElement("span",(0,v.Z)({},h,{onMouseDown:function(e){s(e,!1)},"aria-label":"Decrease Value","aria-disabled":i,className:p}),r||o.createElement("span",{unselectable:"on",className:"".concat(t,"-handler-down-inner")})))}var X=n(7840);var z=n(518),W=["prefixCls","className","style","min","max","step","defaultValue","value","disabled","readOnly","upHandler","downHandler","keyboard","controls","stringMode","parser","formatter","precision","decimalSeparator","onChange","onInput","onPressEnter","onStep"],Y=function(e,t){return e||t.isEmpty()?t.toString():t.toNumber()},K=function(e){var t=U(e);return t.isInvalidate()?null:t},J=o.forwardRef((function(e,t){var n,r=e.prefixCls,a=void 0===r?"rc-input-number":r,i=e.className,l=e.style,u=e.min,c=e.max,s=e.step,f=void 0===s?1:s,d=e.defaultValue,m=e.value,p=e.disabled,h=e.readOnly,x=e.upHandler,E=e.downHandler,w=e.keyboard,N=e.controls,S=void 0===N||N,_=e.stringMode,Z=e.parser,L=e.formatter,F=e.precision,P=e.decimalSeparator,R=e.onChange,D=e.onInput,q=e.onPressEnter,G=e.onStep,$=(0,k.Z)(e,W),J="".concat(a,"-input"),Q=o.useRef(null),ee=o.useState(!1),te=(0,b.Z)(ee,2),ne=te[0],re=te[1],ae=o.useRef(!1),ie=o.useRef(!1),oe=o.useRef(!1),le=o.useState((function(){return U(null!=m?m:d)})),ue=(0,b.Z)(le,2),ce=ue[0],se=ue[1];var fe=o.useCallback((function(e,t){if(!t)return F>=0?F:Math.max(T(e),T(f))}),[F,f]),de=o.useCallback((function(e){var t=String(e);if(Z)return Z(t);var n=t;return P&&(n=n.replace(P,".")),n.replace(/[^\w.-]+/g,"")}),[Z,P]),me=o.useRef(""),pe=o.useCallback((function(e,t){if(L)return L(e,{userTyping:t,input:String(me.current)});var n="number"==typeof e?j(e):e;if(!t){var r=fe(n,t);if(A(n)&&(P||r>=0))n=V(n,P||".",r)}return n}),[L,fe,P]),he=o.useState((function(){var e=null!=d?d:m;return ce.isInvalidate()&&["string","number"].includes((0,y.Z)(e))?Number.isNaN(e)?"":e:pe(ce.toString(),!1)})),ve=(0,b.Z)(he,2),ge=ve[0],ye=ve[1];function be(e,t){ye(pe(e.isInvalidate()?e.toString(!1):e.toString(!t),t))}me.current=ge;var xe,Ee,we=o.useMemo((function(){return K(c)}),[c,F]),Ne=o.useMemo((function(){return K(u)}),[u,F]),Se=o.useMemo((function(){return!(!we||!ce||ce.isInvalidate())&&we.lessEquals(ce)}),[we,ce]),_e=o.useMemo((function(){return!(!Ne||!ce||ce.isInvalidate())&&ce.lessEquals(Ne)}),[Ne,ce]),Ze=function(e,t){var n=(0,o.useRef)(null);return[function(){try{var t=e.selectionStart,r=e.selectionEnd,a=e.value,i=a.substring(0,t),o=a.substring(r);n.current={start:t,end:r,value:a,beforeTxt:i,afterTxt:o}}catch(l){}},function(){if(e&&n.current&&t)try{var r=e.value,a=n.current,i=a.beforeTxt,o=a.afterTxt,l=a.start,u=r.length;if(r.endsWith(o))u=r.length-n.current.afterTxt.length;else if(r.startsWith(i))u=i.length;else{var c=i[l-1],s=r.indexOf(c,l-1);-1!==s&&(u=s+1)}e.setSelectionRange(u,u)}catch(f){(0,X.ZP)(!1,"Something warning of cursor restore. Please fire issue about this: ".concat(f.message))}}]}(Q.current,ne),Ie=(0,b.Z)(Ze,2),ke=Ie[0],Oe=Ie[1],Ce=function(e){return we&&!e.lessEquals(we)?we:Ne&&!Ne.lessEquals(e)?Ne:null},Me=function(e){return!Ce(e)},Le=function(e,t){var n,r=e,a=Me(r)||r.isEmpty();if(r.isEmpty()||t||(r=Ce(r)||r,a=!0),!h&&!p&&a){var i=r.toString(),o=fe(i,t);return o>=0&&(r=U(V(i,".",o)),Me(r)||(r=U(V(i,".",o,!0)))),r.equals(ce)||(n=r,void 0===m&&se(n),null==R||R(r.isEmpty()?null:Y(_,r)),void 0===m&&be(r,t)),r}return ce},Fe=(xe=(0,o.useRef)(0),Ee=function(){z.Z.cancel(xe.current)},(0,o.useEffect)((function(){return Ee}),[]),function(e){Ee(),xe.current=(0,z.Z)((function(){e()}))}),Pe=function e(t){if(ke(),ye(t),!ie.current){var n=U(de(t));n.isNaN()||Le(n,!0)}null==D||D(t),Fe((function(){var n=t;Z||(n=t.replace(/。/g,".")),n!==t&&e(n)}))},Re=function(e){var t;if(!(e&&Se||!e&&_e)){ae.current=!1;var n=U(oe.current?B(f):f);e||(n=n.negate());var r=(ce||U(0)).add(n.toString()),a=Le(r,!1);null==G||G(Y(_,a),{offset:oe.current?B(f):f,type:e?"up":"down"}),null===(t=Q.current)||void 0===t||t.focus()}},De=function(e){var t=U(de(ge)),n=t;n=t.isNaN()?ce:Le(t,e),void 0!==m?be(ce,!1):n.isNaN()||be(n,!1)};return(0,C.o)((function(){ce.isInvalidate()||be(ce,!1)}),[F]),(0,C.o)((function(){var e=U(m);se(e);var t=U(de(ge));e.equals(t)&&ae.current&&!L||be(e,ae.current)}),[m]),(0,C.o)((function(){L&&Oe()}),[ge]),o.createElement("div",{className:I()(a,i,(n={},(0,g.Z)(n,"".concat(a,"-focused"),ne),(0,g.Z)(n,"".concat(a,"-disabled"),p),(0,g.Z)(n,"".concat(a,"-readonly"),h),(0,g.Z)(n,"".concat(a,"-not-a-number"),ce.isNaN()),(0,g.Z)(n,"".concat(a,"-out-of-range"),!ce.isInvalidate()&&!Me(ce)),n)),style:l,onFocus:function(){re(!0)},onBlur:function(){De(!1),re(!1),ae.current=!1},onKeyDown:function(e){var t=e.which,n=e.shiftKey;ae.current=!0,oe.current=!!n,t===O.Z.ENTER&&(ie.current||(ae.current=!1),De(!1),null==q||q(e)),!1!==w&&!ie.current&&[O.Z.UP,O.Z.DOWN].includes(t)&&(Re(O.Z.UP===t),e.preventDefault())},onKeyUp:function(){ae.current=!1,oe.current=!1},onCompositionStart:function(){ie.current=!0},onCompositionEnd:function(){ie.current=!1,Pe(Q.current.value)},onBeforeInput:function(){ae.current=!0}},S&&o.createElement(H,{prefixCls:a,upNode:x,downNode:E,upDisabled:Se,downDisabled:_e,onStep:Re}),o.createElement("div",{className:"".concat(J,"-wrap")},o.createElement("input",(0,v.Z)({autoComplete:"off",role:"spinbutton","aria-valuemin":u,"aria-valuemax":c,"aria-valuenow":ce.isInvalidate()?null:ce.toString(),step:f},$,{ref:(0,M.sQ)(Q,t),className:J,value:ge,onChange:function(e){Pe(e.target.value)},disabled:p,readOnly:h}))))}));J.displayName="InputNumber";var Q=J,ee=n(7170),te=n(3286),ne=n(2592),re=n(5766),ae=n(2278),ie=n(4221),oe=n(3607),le=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},ue=o.forwardRef((function(e,t){var n,r=o.useContext(ee.E_),a=r.getPrefixCls,i=r.direction,l=o.useContext(ne.Z),u=o.useState(!1),c=(0,b.Z)(u,2),s=c[0],f=c[1],d=o.useRef(null);o.useImperativeHandle(t,(function(){return d.current}));var m=e.className,p=e.size,h=e.disabled,E=e.prefixCls,w=e.addonBefore,N=e.addonAfter,S=e.prefix,Z=e.bordered,k=void 0===Z||Z,O=e.readOnly,C=e.status,M=e.controls,L=le(e,["className","size","disabled","prefixCls","addonBefore","addonAfter","prefix","bordered","readOnly","status","controls"]),F=a("input-number",E),P=(0,ae.ri)(F,i),R=P.compactSize,D=P.compactItemClassnames,T=o.createElement(_,{className:"".concat(F,"-handler-up-inner")}),j=o.createElement(x.Z,{className:"".concat(F,"-handler-down-inner")}),A="boolean"==typeof M?M:void 0;"object"===(0,y.Z)(M)&&(T=void 0===M.upIcon?T:o.createElement("span",{className:"".concat(F,"-handler-up-inner")},M.upIcon),j=void 0===M.downIcon?j:o.createElement("span",{className:"".concat(F,"-handler-down-inner")},M.downIcon));var B=(0,o.useContext)(re.aM),q=B.hasFeedback,G=B.status,U=B.isFormItemInput,V=B.feedbackIcon,$=(0,oe.F)(G,C),H=R||p||l,X=o.useContext(te.Z),z=null!=h?h:X,W=I()((n={},(0,g.Z)(n,"".concat(F,"-lg"),"large"===H),(0,g.Z)(n,"".concat(F,"-sm"),"small"===H),(0,g.Z)(n,"".concat(F,"-rtl"),"rtl"===i),(0,g.Z)(n,"".concat(F,"-borderless"),!k),(0,g.Z)(n,"".concat(F,"-in-form-item"),U),n),(0,oe.Z)(F,$),D,m),Y=o.createElement(Q,(0,v.Z)({ref:d,disabled:z,className:W,upHandler:T,downHandler:j,prefixCls:F,readOnly:O,controls:A},L));if(null!=S||q){var K,J=I()("".concat(F,"-affix-wrapper"),(0,oe.Z)("".concat(F,"-affix-wrapper"),$,q),(K={},(0,g.Z)(K,"".concat(F,"-affix-wrapper-focused"),s),(0,g.Z)(K,"".concat(F,"-affix-wrapper-disabled"),e.disabled),(0,g.Z)(K,"".concat(F,"-affix-wrapper-sm"),"small"===l),(0,g.Z)(K,"".concat(F,"-affix-wrapper-lg"),"large"===l),(0,g.Z)(K,"".concat(F,"-affix-wrapper-rtl"),"rtl"===i),(0,g.Z)(K,"".concat(F,"-affix-wrapper-readonly"),O),(0,g.Z)(K,"".concat(F,"-affix-wrapper-borderless"),!k),(0,g.Z)(K,"".concat(m),!(w||N)&&m),K));Y=o.createElement("div",{className:J,style:e.style,onMouseUp:function(){return d.current.focus()}},S&&o.createElement("span",{className:"".concat(F,"-prefix")},S),(0,ie.Tm)(Y,{style:null,value:e.value,onFocus:function(t){var n;f(!0),null===(n=e.onFocus)||void 0===n||n.call(e,t)},onBlur:function(t){var n;f(!1),null===(n=e.onBlur)||void 0===n||n.call(e,t)}}),q&&o.createElement("span",{className:"".concat(F,"-suffix")},V))}if(null!=w||null!=N){var ue,ce="".concat(F,"-group"),se="".concat(ce,"-addon"),fe=w?o.createElement("div",{className:se},w):null,de=N?o.createElement("div",{className:se},N):null,me=I()("".concat(F,"-wrapper"),ce,(0,g.Z)({},"".concat(ce,"-rtl"),"rtl"===i)),pe=I()("".concat(F,"-group-wrapper"),(ue={},(0,g.Z)(ue,"".concat(F,"-group-wrapper-sm"),"small"===l),(0,g.Z)(ue,"".concat(F,"-group-wrapper-lg"),"large"===l),(0,g.Z)(ue,"".concat(F,"-group-wrapper-rtl"),"rtl"===i),ue),(0,oe.Z)("".concat(F,"-group-wrapper"),$,q),m);Y=o.createElement("div",{className:pe,style:e.style},o.createElement("div",{className:me},fe&&o.createElement(ae.BR,null,o.createElement(re.Ux,{status:!0,override:!0},fe)),(0,ie.Tm)(Y,{style:null,disabled:z}),de&&o.createElement(ae.BR,null,o.createElement(re.Ux,{status:!0,override:!0},de))))}return Y})),ce=n(2210),se=n(5444),fe=l.default.div.withConfig({displayName:"search__Container",componentId:"sc-1dkye20-0"})(["font-size:1rem;display:flex;flex-direction:column;justify-content:center;align-items:center;padding:20px;h1{margin-bottom:24px;}.form-container{width:100%;max-width:800px;background:white;padding:24px;border-radius:8px;box-shadow:0 2px 8px rgba(0,0,0,0.1);}.nav-links{margin-bottom:16px;a{margin-right:16px;color:#1890ff;text-decoration:none;&:hover{text-decoration:underline;}}}"]),de=["COD","ICSD","MP","NONE"],me=["Aeris-fds-Pixcel1d-Medipix3","synchrotron","LBL-d8-LynxEyeXE","d8-solxe-fds-0600","siemens-d5000-fds1mm"];var pe=function(){var e=c.Z.useForm()[0],t=(0,o.useState)(null),n=t[0],a=t[1],l=s.ZP.useMessage(),v=l[0],g=l[1],y=(0,o.useState)(!1),b=y[0],x=y[1],E=(0,o.useState)("COD"),w=E[0],N=E[1],S=function(){var t=(0,r.Z)(i().mark((function t(){var n,r,o,l,u,c;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.validateFields();case 3:return n=t.sent,r=new FormData,n.pattern_file&&n.pattern_file.length>0&&r.append("pattern_file",n.pattern_file[0].originFileObj),o=n.required_elements.split(/[\s,]+/).filter((function(e){return e.trim()})).map((function(e){return e.trim()})),r.append("required_elements",JSON.stringify(o)),l=n.exclude_elements?n.exclude_elements.split(/[\s,]+/).filter((function(e){return e.trim()})).map((function(e){return e.trim()})):[],r.append("exclude_elements",JSON.stringify(l)),r.append("database",n.database||"COD"),r.append("user",n.user||"anonymous"),r.append("wavelength",n.wavelength||"Cu"),r.append("instrument_profile",n.instrument_profile||"Aeris-fds-Pixcel1d-Medipix3"),r.append("max_phases",n.max_phases||500),"MP"===n.database&&(r.append("mp_experimental_only",n.mp_experimental_only?"true":"false"),r.append("mp_max_e_above_hull",n.mp_max_e_above_hull||.1)),n.additional_phases&&n.additional_phases.length>0&&n.additional_phases.forEach((function(e){r.append("additional_phases",e.originFileObj)})),a(null),x(!0),t.next=21,fetch("/api/search",{method:"POST",body:r});case 21:return u=t.sent,t.next=24,u.json();case 24:c=t.sent,u.ok&&c.wf_id?(v.success("任务已提交到队列！"),setTimeout((function(){(0,se.navigate)("/task?task_id="+c.wf_id)}),1e3)):a(c.detail||c.error||"提交失败"),t.next=32;break;case 28:t.prev=28,t.t0=t.catch(0),console.error("Submit error:",t.t0),a(t.t0.message||"提交失败");case 32:return t.prev=32,x(!1),t.finish(32);case 35:case"end":return t.stop()}}),t,null,[[0,28,32,35]])})));return function(){return t.apply(this,arguments)}}(),_=function(e){return Array.isArray(e)?e:null==e?void 0:e.fileList};return o.createElement(u.Z,{hasSider:!1,title:"本地数据库检索"},g,o.createElement(fe,null,o.createElement("div",{className:"nav-links"},o.createElement("a",{href:"/task"},"查看任务列表"),o.createElement("a",{href:"/"},"原始提交页面")),n&&o.createElement(f.Z,{message:n,type:"error",showIcon:!0,closable:!0,style:{width:"100%",maxWidth:"800px",marginBottom:"16px"}}),o.createElement("div",{className:"form-container"},o.createElement("h1",null,"本地数据库相检索"),o.createElement("p",{style:{color:"#666",marginBottom:"24px"}},"支持 COD、ICSD、MP 数据库选择，化学系统过滤，自定义 CIF 上传"),o.createElement(c.Z,{form:e,layout:"vertical",initialValues:{database:"COD",user:"researcher",wavelength:"Cu",instrument_profile:"Aeris-fds-Pixcel1d-Medipix3",max_phases:500,mp_experimental_only:!1,mp_max_e_above_hull:.1},onValuesChange:function(e){e.database&&N(e.database)}},o.createElement(c.Z.Item,{label:"用户名",name:"user",rules:[{required:!0,message:"请输入用户名"}]},o.createElement(d.Z,{placeholder:"用于任务跟踪"})),o.createElement(c.Z.Item,{label:"XRD 数据文件",name:"pattern_file",valuePropName:"fileList",getValueFromEvent:_,rules:[{required:!0,message:"请上传 XRD 文件"}]},o.createElement(m.Z,{beforeUpload:function(){return!1},maxCount:1,accept:".xy,.xrdml,.raw,.txt,.xye"},o.createElement(p.Z,{icon:o.createElement(ce.Z,null)},"选择文件 (.xy, .xrdml, .raw)"))),o.createElement(c.Z.Item,{label:"数据库选择",name:"database",rules:[{required:!0}]},o.createElement(h.Z,null,de.map((function(e){return o.createElement(h.Z.Option,{key:e,value:e},e)})))),o.createElement(c.Z.Item,{label:"必含元素",name:"required_elements",rules:[{required:!0,message:"请输入元素符号"}],tooltip:"空格或逗号分隔，例如: Y Mo O 或 Y,Mo,O"},o.createElement(d.Z,{placeholder:"例如: Y Mo O"})),o.createElement(c.Z.Item,{label:"排除元素（可选）",name:"exclude_elements",tooltip:"包含这些元素的相会被过滤掉"},o.createElement(d.Z,{placeholder:"例如: Pb Cd"})),"MP"===w&&o.createElement(o.Fragment,null,o.createElement(c.Z.Item,{label:"仅实验相",name:"mp_experimental_only",valuePropName:"checked"},o.createElement("input",{type:"checkbox"}),o.createElement("span",{style:{marginLeft:8}},"勾选后仅包含实验验证的相")),o.createElement(c.Z.Item,{label:"最大能量阈值 (eV/atom)",name:"mp_max_e_above_hull"},o.createElement(ue,{min:0,max:1,step:.05,style:{width:"100%"}}))),o.createElement(c.Z.Item,{label:"波长",name:"wavelength"},o.createElement(d.Z,{placeholder:"Cu, Co, Cr, Fe, Mo 或数值（Å）"})),o.createElement(c.Z.Item,{label:"仪器配置",name:"instrument_profile"},o.createElement(h.Z,null,me.map((function(e){return o.createElement(h.Z.Option,{key:e,value:e},e)})))),o.createElement(c.Z.Item,{label:"最大相数",name:"max_phases"},o.createElement(ue,{min:10,max:5e3,style:{width:"100%"}})),o.createElement(c.Z.Item,{label:"自定义 CIF 文件（可选）",name:"additional_phases",valuePropName:"fileList",getValueFromEvent:_},o.createElement(m.Z,{beforeUpload:function(){return!1},multiple:!0,accept:".cif"},o.createElement(p.Z,{icon:o.createElement(ce.Z,null)},"上传 CIF 文件"))),o.createElement(c.Z.Item,null,o.createElement(p.Z,{type:"primary",onClick:S,loading:b,size:"large",block:!0},b?"提交中...":"提交检索任务"))))))}},7061:function(e,t,n){var r=n(8698).default;function a(){"use strict";e.exports=a=function(){return t},e.exports.__esModule=!0,e.exports.default=e.exports;var t={},n=Object.prototype,i=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},l="function"==typeof Symbol?Symbol:{},u=l.iterator||"@@iterator",c=l.asyncIterator||"@@asyncIterator",s=l.toStringTag||"@@toStringTag";function f(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{f({},"")}catch(M){f=function(e,t,n){return e[t]=n}}function d(e,t,n,r){var a=t&&t.prototype instanceof h?t:h,i=Object.create(a.prototype),l=new k(r||[]);return o(i,"_invoke",{value:S(e,n,l)}),i}function m(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(M){return{type:"throw",arg:M}}}t.wrap=d;var p={};function h(){}function v(){}function g(){}var y={};f(y,u,(function(){return this}));var b=Object.getPrototypeOf,x=b&&b(b(O([])));x&&x!==n&&i.call(x,u)&&(y=x);var E=g.prototype=h.prototype=Object.create(y);function w(e){["next","throw","return"].forEach((function(t){f(e,t,(function(e){return this._invoke(t,e)}))}))}function N(e,t){function n(a,o,l,u){var c=m(e[a],e,o);if("throw"!==c.type){var s=c.arg,f=s.value;return f&&"object"==r(f)&&i.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,l,u)}),(function(e){n("throw",e,l,u)})):t.resolve(f).then((function(e){s.value=e,l(s)}),(function(e){return n("throw",e,l,u)}))}u(c.arg)}var a;o(this,"_invoke",{value:function(e,r){function i(){return new t((function(t,a){n(e,r,t,a)}))}return a=a?a.then(i,i):i()}})}function S(e,t,n){var r="suspendedStart";return function(a,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw i;return C()}for(n.method=a,n.arg=i;;){var o=n.delegate;if(o){var l=_(o,n);if(l){if(l===p)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=m(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===p)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function _(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,_(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var a=m(r,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,p;var i=a.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,p):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function Z(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(Z,this),this.reset(!0)}function O(e){if(e){var t=e[u];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,r=function t(){for(;++n<e.length;)if(i.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return r.next=r}}return{next:C}}function C(){return{value:void 0,done:!0}}return v.prototype=g,o(E,"constructor",{value:g,configurable:!0}),o(g,"constructor",{value:v,configurable:!0}),v.displayName=f(g,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,f(e,s,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},w(N.prototype),f(N.prototype,c,(function(){return this})),t.AsyncIterator=N,t.async=function(e,n,r,a,i){void 0===i&&(i=Promise);var o=new N(d(e,n,r,a),i);return t.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},w(E),f(E,s,"Generator"),f(E,u,(function(){return this})),f(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=O,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(I),!e)for(var t in this)"t"===t.charAt(0)&&i.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r],o=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var l=i.call(a,"catchLoc"),u=i.call(a,"finallyLoc");if(l&&u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var a=r;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,p):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),I(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;I(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:O(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},t}e.exports=a,e.exports.__esModule=!0,e.exports.default=e.exports},8698:function(e){function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},4687:function(e,t,n){var r=n(7061)();e.exports=r;try{regeneratorRuntime=r}catch(a){"object"==typeof globalThis?globalThis.regeneratorRuntime=r:Function("r","regeneratorRuntime = r")(r)}}}]);
//# sourceMappingURL=component---src-pages-search-js-303f2264cc96e0d9dbe7.js.map